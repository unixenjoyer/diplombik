{% extends "base.html" %}

{% block content %}
<h1>Панель администратора</h1>

<h2>Список сотрудников</h2>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Логин</th>
            <th>Ставка</th>
            <th>Заработано</th>
            <th>Действия</th>
        </tr>
    </thead>
    <tbody>
        {% for employee in employees %}
        <tr>
            <td>{{ employee.id }}</td>
            <td>{{ employee.username }}</td>
            <td>{{ employee.hourly_rate }} руб/час</td>
            <td>{{ employee.total_earned }} руб</td>
            <td>
                <form action="{{ url_for('delete_employee', employee_id=employee.id) }}" method="POST">
                    <button type="submit" class="btn btn-danger"
                            onclick="return confirm('Удалить {{ employee.username }}?')">
                        Удалить
                    </button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2>Добавить сотрудника</h2>
<form method="POST" action="{{ url_for('add_employee') }}">
    <div class="form-group">
        <input type="text" name="username" placeholder="Логин" required class="form-control">
    </div>
    <div class="form-group">
        <input type="password" name="password" placeholder="Пароль" required class="form-control">
    </div>
    <div class="form-group">
        <input type="number" name="hourly_rate" placeholder="Ставка (руб/час)" step="0.01" required class="form-control">
    </div>
    <button type="submit" class="btn btn-primary">Добавить</button>
</form>
{% endblock %}