{% extends "base.html" %}

{% block content %}
<section class="admin-section">
  <h2><i class="icon-user"></i> –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>

  <div class="card employee-list">
    <h3><i class="icon-team"></i> –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h3>

    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>–õ–æ–≥–∏–Ω</th>
            <th>–°—Ç–∞–≤–∫–∞</th>
            <th>–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
        </thead>
        <tbody>
          {% for employee in employees %}
          <tr>
            <td>{{ employee.id }}</td>
            <td>{{ employee.username }}</td>
            <td>{{ "%.2f"|format(employee.hourly_rate) }} ‚ÇΩ/—á–∞—Å</td>
            <td>{{ "%.2f"|format(employee.total_earned) }} ‚ÇΩ</td>
            <td>
              <form action="{{ url_for('delete_employee', employee_id=employee.id) }}" method="POST"
                    onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ {{ employee.username }}?')">
                <button type="submit" class="btn btn-danger">
                  <i class="icon-delete"></i> –£–¥–∞–ª–∏—Ç—å
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div class="card add-employee">
    <h3><i class="icon-add"></i> –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h3>

    <form method="POST" action="{{ url_for('add_employee') }}">
      <div class="form-group">
        <label for="username">–õ–æ–≥–∏–Ω:</label>
        <input type="text" id="username" name="username" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ª–æ–≥–∏–Ω" required class="form-control">
      </div>

      <div class="form-group">
        <label for="password">–ü–∞—Ä–æ–ª—å:</label>
        <input type="password" id="password" name="password" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å" required class="form-control">
      </div>

      <div class="form-group">
        <label for="hourly_rate">–°—Ç–∞–≤–∫–∞ (‚ÇΩ/—á–∞—Å):</label>
        <input type="number" id="hourly_rate" name="hourly_rate" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 350" step="0.01" min="0" required class="form-control">
      </div>

      <button type="submit" class="btn btn-primary">
        <i class="icon-save"></i> –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
      </button>
    </form>
  </div>
</section>

<style>
.admin-section {
  padding: 1.5rem 0;
}

.card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.card h3 {
  margin-top: 0;
  color: #6d8b74;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
}

.card h3 i {
  margin-right: 0.5rem;
}

.table-responsive {
  overflow-x: auto;
}

label {
  display: block;
  margin-bottom: 0.5rem;
  color: #5e5343;
  font-weight: 500;
}

.icon-user:before { content: "üë§"; }
.icon-team:before { content: "üë•"; }
.icon-add:before { content: "‚ûï"; }
.icon-delete:before { content: "‚ùå"; }
.icon-save:before { content: "üíæ"; }

.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

@media (max-width: 768px) {
  .card {
    padding: 1rem;
  }

  .table td, .table th {
    padding: 0.75rem;
  }
}
</style>
{% endblock %}